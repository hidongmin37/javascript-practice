<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM트리 실습</title>
  </head>
  <body>
    <ul>
      <li>호랑이</li>
      <li>하마</li>
      <li>코끼리</li>
      <li>악어</li>
      <li>알파카</li>
    </ul>
    <a href="javascript:addAnimal()">동물 추가</a>
  </body>
  <script>
    // 입력한 값은 value로 가져와야하고, 미리 작성한 값 또는
    // 미리 작성해 놓은 값은 innerHTML로 가져와야한다.

    // console.log(list);
    // list.onclick=function() {
    //     list.forEach((v,i)=> )
    // };
    let i = 0;
    let animals = new Array('고양이', '토끼', '사자');
    let ul = document.querySelector('ul');
    // 해당 동물을 클릭하면 동물 삭제
    document.querySelectorAll('ul > li').forEach((v) => {
      v.onclick = function () {
        ul.removeChild(this);
      };
    });
    // 동물 추가 버튼을 클릭하면 동물 추가(최대 3마리,
    //3마리 동물은 중복되지 않는다.)
    function addAnimal() {
      const li = document.createElement('li');
      li.innerHTML = animals[i++];
      ul.appendChild(li);
      li.onclick = function () {
        i--;
        ul.removeChild(this);
        document.querySelector('a').setAttribute('href', 'javascript:addAnimal()');
      };
      if (i == 3) {
        document.querySelector('a').setAttribute('href', 'javascript:void(0)');
      }
    }
  </script>
</html>
